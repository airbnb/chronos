<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Chronos</title>

    <!-- CSS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.1/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Raleway+Dots" type='text/css'>
    <link rel="stylesheet" href="//jquery.bassistance.de/tooltip/jquery.tooltip.css">
    <link rel="stylesheet" href="static/tablesorter/css/theme.bootstrap.css">

    <!-- Scripts -->
    <script src="//code.jquery.com/jquery.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.1/js/bootstrap.min.js"></script>
    <script src="//jquery.bassistance.de/tooltip/jquery.tooltip.js"></script>
    <script src="static/tablesorter/js/jquery.tablesorter.min.js"></script>
    <script src="static/tablesorter/js/jquery.tablesorter.widgets.min.js"></script>
    <script src="static/js/chronos_jquery.js"></script>

  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-default" role="navigation">
      <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul class="nav navbar-nav">
          <li><a href="/" class="navbar-text" style="font-size: 64px; font-family: 'Raleway Dots', cursive;">Chronos </a></li>
          <li style="margin-left: 10px; margin-top: 20px;"><button type="button" class="btn btn-success navbar-btn" id="new_job" data-toggle="modal" data-target="#newJobModal">New Job</button></li>
          <li style="margin-top: 20px;"><button type="button" class="btn btn-danger navbar-btn" id="delete_job">Delete Job</button></li>
          <li style="margin-top: 19px;"><p class=navbar-text><span id="totalJobs" class="label label-primary" style="font-size:20px">Loading...</span></p></li>
          <li style="margin-top: 19px;"><p class=navbar-text><span id="failedJobs" class="label label-danger" style="font-size:20px"></span></p></li>
        </ul>
      </div>
    </nav>

    <!-- HTML Table -->
    <div class="panel panel-default">
      <div class="panel-heading">Search is fuzzy, filters can handle inequalities as well as equalities. See edit panel for more details.</div>
        <table id="jobtable" class="table tablesorter">
          <thead>
            <tr>
              <th>Name</th>
              <th>Owner</th>
              <th>Command</th>
              <th>Disabled</th>
              <th>Status</th>
              <th>Successes</th>
              <th>Errors</th>
              <th>Last Success</th>
              <th>Last Error</th>
              <th>99% Time</th>
              <th>95% Time</th>
              <th>75% Time</th>
              <th>50% Time</th>
            </tr>
          </thead>
          <tbody id="jobData">
            <!-- Populated by javascript -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Edit modal -->
    <div class="modal fade" id="editModal" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title" id="editModalLabel">Edit job_name_here</h4>
          </div>
          <form class="form-horizontal" id="editJobForm" role="form">
            <div class="modal-body">
              <div class="form-group">
                <input type="hidden" class="form-control" name="nameInput" id="nameInput" placeholder="job_name" value="">
              </div>
              <div class="form-group">
                <label for="commandInput">Command</label>
                <input type="text" class="form-control" name="commandInput" id="commandInput" placeholder="job_command" value="">
              </div>
              <div class="form-group">
                  <label for="ownerInput">Owner</label>
                  <input type="email" class="form-control" name="ownerInput" id="ownerInput" placeholder="job_owner" value="">
              </div>
              <div class="form-group" id="customEditFields">
              <!-- JQuery will programatically insert the schedule editing field or parent editing field. -->
              </div>
              <div class="form-group">
                <label><input type="radio" name="statusInput" id="statusInputEnabled" value="enabled"> Enable Job</label><br>
                <label><input type="radio" name="statusInput" id="statusInputDisabled" value="disabled"> Disable Job</label>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <input type="submit" id="editjob-modal-submit" data-dismiss="modal" class="btn btn-primary" value="Save Changes">
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- New job modal -->
    <div class="modal fade" id="newJobModal" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title" id="newJobModalLabel">Create new job</h4>
          </div>
          <form class="form-horizontal" id="newJobForm" role="form">
            <div class="modal-body">
              <div class="form-group">
                <label for="newNameInput">Name</label>
                <input type="text" class="form-control" name="newNameInput" id="newNameInput" placeholder="job_name" value="">
              </div>
              <div class="form-group">
                <label for="newCommandInput">Command</label>
                <input type="text" class="form-control" name="newCommandInput" id="newCommandInput" placeholder="job_command" value="">
              </div>
              <div class="form-group">
                <label for="newOwnerInput">Owner</label>
                <input type="email" class="form-control" name="newOwnerInput" id="newOwnerInput" placeholder="job_owner" value="">
              </div>
              <div class="form-group">
                <label for="newParentsInput">Parents</label>
                <input type="text" class="form-control" name="newParentsInput" id="newParentsInput" placeholder="job_parent1, job_parent2" value="">
              </div>
              <div class="form-group">
                <div class="col-xs-2">
                  <label for="newRepeatsInput">Repeats</label>
                  <input type="text" class="form-control" name="newRepeatsInput" id="newRepeatsInput" placeholder="âˆž" value="">
                </div>
                <div class="col-xs-4">
                  <label for="newDateInput">Launch Day</label>
                  <input type="date" class="form-control" name="newDateInput" id="newDateInput" min="2013-01-01" placeholder="YYYY-MM-DD" value="">
                </div>
                <div class="col-xs-3">
                  <label for="newTimeInput">Launch Time</label>
                  <input type="text" class="form-control" name="newTimeInput" id="newTimeInput" placeholder="HH:MM:SS" value="">
                </div>
                <div class="col-xs-3">
                  <label for="newPeriodInput">Period</label>
                  <input type="text" class="form-control" name="newPeriodInput" id="newPeriodInput" placeholder="T15M" value="T15M">
                </div>
              </div>
              <div class="form-group">
                <label><input type="radio" name="newStatusInput" id="newStatusInputEnabled" value="enabled" checked> Enable Job</label><br>
                <label><input type="radio" name="newStatusInput" id="newStatusInputDisabled" value="disabled"> Disable Job</label>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <input type="submit" id="newjob-modal-submit" data-dismiss="modal" class="btn btn-primary" value="Create">
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
